% Created 2025-04-22 Tue 18:19
% Intended LaTeX compiler: xelatex
\documentclass[11pt]{article}
\usepackage{graphicx}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{capt-of}
\usepackage{hyperref}
\usepackage[a4paper,margin=1in]{geometry}
\usepackage{minted}
\usemintedstyle{friendly}
\pagestyle{empty}
\usepackage{graphicx}
\usepackage{url}
\usepackage{fontspec}
\setmainfont{Liberation Serif}
\setsansfont{Liberation Sans}
\setmonofont{Liberation Mono}
\author{Tiszolczi Jácint}
\date{\today}
\title{UniPoint backend dokumentáció}
\hypersetup{
 pdfauthor={Tiszolczi Jácint},
 pdftitle={UniPoint backend dokumentáció},
 pdfkeywords={},
 pdfsubject={},
 pdfcreator={Emacs 30.1 (Org mode 9.7.11)}, 
 pdflang={English}}
\begin{document}

\maketitle
\section{Mysql Szerver}
\label{sec:org4453bc1}
\begin{itemize}
\item Szolgáltató
\begin{itemize}
\item Azure Database for MySQL flexible server
\item Config: Burstable, B1ms, 1 vCores, 2 GiB RAM, 20 storage, 360 IOPS
\item Hely: Poland Central
\end{itemize}
\item Admin login
\begin{itemize}
\item Username: uniPointAdmin
\item Password: appsettings.json-ben
\end{itemize}
\item Tűzfal
\begin{itemize}
\item Csak az Azureon lévő backend érhetné el az adatbázist, de jelenleg minden IP elérheti hogy lokálisan is lehessen futtatni a backendet.
\end{itemize}
\end{itemize}
\section{Adatbázis felépítése}
\label{sec:org9fbeab9}

Az adatbázis elkészítését az EntityFramework kezeli, tehát a model osztályokból készíti a táblákat és a kapcsolatokat. Az adatbázis MySQL alapú, ezt a Pomelo.EntityFrameworkCore.MySql NuGet package valósítja meg.
\subsection{user tábla}
\label{sec:org12ebd85}
\begin{itemize}
\item Id: PK, VARCHAR(255), not null, unique
\item UserName: LONGTEXT, not null, 1-30 hosszú
\item Email: VARCHAR(255), email validáció
\item PhoneNumber: LONGTEXT, telefonszám validáció
\item ProfilePictureUrl: VARCHAR(255), not null,
default: \texttt{"https://tiszolczijacint.blob.core.windows.net/img/63cf316b-35a1-432e-92fe-0f2d0b2029c3.jpg"}
\item CreatedAt: DATETIME(6), not null, timestamp validáció, default: létrehozás dátuma UTC
\item PasswordHash: LONGTEXT, not null, automatikus titkosítás
\item Location: VARCHAR(255)
\item IsPushNotificationsEnabled: TINYINT(1), (Entityframework bool)
\item UserSelectedLanguage: LONGTEXT, Lehetséges értékek: "magyar", "angol"
\end{itemize}

IdentityUser által létrehozott, közvetlenül nem használt
\begin{itemize}
\item AccessFailedCount: INT(11), not null
\item ConcurrencyStamp: LONGTEXT
\item EmailConfirmed: TINYINT(1), not null
\item LockoutEnabled: TINYINT(1), not null
\item LockoutEnd: DATETIME(6)
\item NormalizedEmail: LONGTEXT
\item NormalizedUserName: LONGTEXT
\item PhoneNumberConfirmed: TINYINT(1), not null
\item SecurityStamp: LONGTEXT
\item TwoFactorEnabled: TINYINT(1), not null
\end{itemize}
\subsection{services tábla}
\label{sec:org64fb5df}
\begin{itemize}
\item ServiceId: PK, INT(11), not null, unique
\item UserId: VARCHAR(255), not null, FK: user.Id, (Szolgáltató Id)
\item ServiceName: VARCHAR(255), not null
\item Price: INT(11), not null
\item Description: VARHCHAR(2000), not null
\item Address: VARCHAR(255), not null
\item Duration: INT(11)
\item CategoryId: INT, not null
\item ImageUrls: LONGTEXT (Entityframework string list)
\item ClosesAt: TIME(6)
\item OpensAt: TIME(6)
\end{itemize}
\subsection{categories tábla}
\label{sec:org822976e}
\begin{itemize}
\item CategoryId: PK, INT, not null,
default: \texttt{"https://tiszolczijacint.blob.core.windows.net/img/63cf316b-35a1-432e-92fe-0f2d0b2029c3.jpg"}
\item Name: VARCHAR(255), not null
\item IconUrl: LONGTEXT
\end{itemize}
\subsection{appointments tábla}
\label{sec:org122fb32}
\begin{itemize}
\item Id:  PK, INT(11), not null, unique
\item UserId: VARCHAR(255), FK: user.Id, (Foglaló Id)
\item ServiceId: INT(11), not null, FK: services.ServiceId
\item appointmentDate: DATETIME(6), not null, timestamp validáció
\item Status: INT(11), not null
\begin{itemize}
\item az EF kezeli, igazából enum
\item lehetséges értékei: OPEN, SCHEDULED, DONE, CANCELLED\textsubscript{BY}\textsubscript{USER}, CANCELLED\textsubscript{BY}\textsubscript{SERVICE}
\item default: OPEN
\end{itemize}
\end{itemize}
\subsection{reviews tábla}
\label{sec:orgab51bb5}
\begin{itemize}
\item ReviewId: PK, INT(11), not null, unique
\item UserId: VARCHAR(255), FK: user.Id, (Értékelő Id)
\item ServiceId: INT(11), not null, FK: services.ServiceId
\item Score: INT(11), not null, értéke 1-5
\item Description: VARHCHAR(2000), not null
\item CreatedAt: DATETIME(6), not null, timestamp validáció, default: létrehozás dátuma UTC
\end{itemize}
\subsection{EntityFramework és IdentityUser által létrehozott táblák}
\label{sec:org7e01b42}
\begin{itemize}
\item roleclaims
\begin{itemize}
\item Id:  PK, INT(11), not null, unique
\item RoleId: LONGTEXT
\item ClaimType: LONGTEXT
\item ClaimValue: LONGTEXT
\end{itemize}
\item roles
\begin{itemize}
\item Id: PK, VARCHAR(255), not null, unique
\item Name: LONGTEXT
\item NormailzedName: LONGTEXT
\item ConcurrencyStamp: LONGTEXT
\end{itemize}
\item userclaims
\begin{itemize}
\item Id:  PK, INT(11), not null, unique
\item UserId: LONGTEXT
\item ClaimType: LONGTEXT
\item ClaimValue: LONGTEXT
\end{itemize}
\item userlogins
\begin{itemize}
\item LoginProvider: PK, VARCHAR(255), not null, unique
\item ProviderKey: PK, VARCHAR(255), not null, unique
\item ProviderDisplayName: LONGTEXT
\item UserId: LONGTEXT
\end{itemize}
\item userroles
\begin{itemize}
\item UserId: PK, VARCHAR(255), not null, unique
\item RoleId: PK, VARCHAR(255), not null, unique
\end{itemize}
\item usertokens
\begin{itemize}
\item UserId: PK, VARCHAR(255), not null, unique
\item LoginProvider: PK, VARCHAR(255), not null, unique
\item Name: PK, VARCHAR(255), not null, unique
\item Value: LONGTEXT
\end{itemize}
\item \_\textsubscript{efmigrationhistory}
\begin{itemize}
\item MigrationId: PK, VARCHAR(150), not null, unique
\item ProductVersion: VARCHAR(32), not null
\end{itemize}
\end{itemize}
\section{Végpontok}
\label{sec:org5d440d6}
Swagger: [[\url{https://unipoint-b6h6h4cubncmafhh.polandcentral-01.azurewebsites.net/swagger/index.html}]]
\begin{itemize}
\item A hitelesítéshez a bejelentkezéskor kapott JWT tokent be kell másolni az Authorize részbe.
\end{itemize}
\subsection{Auth}
\label{sec:org48d3d36}
\subsubsection{Register}
\label{sec:orga3b2380}
\begin{itemize}
\item url: /api/Auth/register
\item POST request:
\end{itemize}
\begin{verbatim}
{
  "userName": "jeno",
  "email": "jeno@example.com",
  "location": "Gyor",
  "password": "Jeno123",
  "role": "User"
}
\end{verbatim}
\begin{itemize}
\item Response:
\begin{itemize}
\item StatusCode: 200
\end{itemize}
\end{itemize}
\begin{verbatim}
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1YmM1MDk3Mi01M2RmLTQ1NmEtOGU2MC1jMzcyMjJhZDEwM2QiLCJlbWFpbCI6Implbm9AZXhhbXBsZS5jb20iLCJ1bmlxdWVfbmFtZSI6Implbm8iLCJsb2NhdGlvbiI6Ikd5b3IiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJVc2VyIiwiZXhwIjoxNzQ1OTE3MjUyLCJpc3MiOiJodHRwczovL3VuaXBvaW50LWI2aDZoNGN1Ym5jbWFmaGgucG9sYW5kY2VudHJhbC0wMS5henVyZXdlYnNpdGVzLm5ldCIsImF1ZCI6Imh0dHBzOi8vdW5pcG9pbnQtYjZoNmg0Y3VibmNtYWZoaC5wb2xhbmRjZW50cmFsLTAxLmF6dXJld2Vic2l0ZXMubmV0In0.pSL_OrSHcPK8fZqlmHTtLBclXwlL4o7wyKBwgEkjIho",
  "message": "User registered successfully!",
  "userId": "5bc50972-53df-456a-8e60-c37222ad103d",
  "userName": "jeno",
  "email": "jeno@example.com",
  "location": "Gyor"
}
\end{verbatim}
\subsubsection{Login}
\label{sec:org05e8901}
\begin{itemize}
\item url: /api/Auth/login
\item POST request:
\end{itemize}
\begin{verbatim}
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1YmM1MDk3Mi01M2RmLTQ1NmEtOGU2MC1jMzcyMjJhZDEwM2QiLCJlbWFpbCI6Implbm9AZXhhbXBsZS5jb20iLCJ1bmlxdWVfbmFtZSI6Implbm8iLCJsb2NhdGlvbiI6Ikd5b3IiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJVc2VyIiwiZXhwIjoxNzQ1OTE3MjUyLCJpc3MiOiJodHRwczovL3VuaXBvaW50LWI2aDZoNGN1Ym5jbWFmaGgucG9sYW5kY2VudHJhbC0wMS5henVyZXdlYnNpdGVzLm5ldCIsImF1ZCI6Imh0dHBzOi8vdW5pcG9pbnQtYjZoNmg0Y3VibmNtYWZoaC5wb2xhbmRjZW50cmFsLTAxLmF6dXJld2Vic2l0ZXMubmV0In0.pSL_OrSHcPK8fZqlmHTtLBclXwlL4o7wyKBwgEkjIho",
  "message": "Login successful",
  "userId": "5bc50972-53df-456a-8e60-c37222ad103d",
  "userName": "jeno",
  "email": "jeno@example.com",
  "location": "Gyor"
}
\end{verbatim}
\begin{itemize}
\item Response:
\begin{itemize}
\item StatusCode: 200
\end{itemize}
\end{itemize}
\begin{verbatim}
{
  "token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiZjhjYjNhMC00MWVjLTRmYjctOGVhYi1lOWZkYTFiMzVkMjQiLCJlbWFpbCI6Implbm9AZXhhbXBsZS5jb20iLCJ1bmlxdWVfbmFtZSI6Implbm8iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJVc2VyIiwiZXhwIjoxNzQxMzQ5MTgxLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo1MDAxIiwiYXVkIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAwMSJ9.rc1SfKdnQCIqoZpdTbDq-hj7xLPmzmKtbfql92G_1wE",
  "message": "Login successful",
  "userId": "bf8cb3a0-41ec-4fb7-8eab-e9fda1b35d24"
}
\end{verbatim}
\subsubsection{Logout}
\label{sec:org2e06d77}
\begin{itemize}
\item url: /api/Auth/logout
\item POST request
\item Response:
\begin{itemize}
\item StatusCode: 200
\end{itemize}
\end{itemize}
\begin{verbatim}
{
  "message": "Logout successful."
}
\end{verbatim}
\subsection{User}
\label{sec:org20b577b}
\begin{itemize}
\item Roles: User, Provider
\end{itemize}
\subsubsection{Get Users}
\label{sec:orga825bfc}
\begin{itemize}
\item url: /api/User
\item GET request
\item Response:
\begin{itemize}
\item StatusCode: 200
\end{itemize}
\end{itemize}
\begin{verbatim}
[
  {
    "userName": "HabosBabos",
    "email": "habos@babos.com",
    "location": "habos",
    "profilePictureUrl": "https://tiszolczijacint.blob.core.windows.net/img/63cf316b-35a1-432e-92fe-0f2d0b2029c3.jpg"
  },
  {
    "userName": "KisJeno",
    "email": "kisjeno@example.com",
    "location": "Budapest Váci út 93",
    "profilePictureUrl": "https://tiszolczijacint.blob.core.windows.net/img/20055bcd-ed28-4e8c-acbe-9be90e14f4d3.jpg"
  },
 ...
]
\end{verbatim}
\subsubsection{Get User by ID}
\label{sec:orgaa7b140}
\begin{itemize}
\item url: /api/User/\{id\}
\item GET request (/api/User/5bc50972-53df-456a-8e60-c37222ad103d)
\item Response:
\begin{itemize}
\item StatusCode: 200
\end{itemize}
\end{itemize}
\begin{verbatim}
{
  "userName": "jeno",
  "email": "jeno@example.com",
  "location": "Gyor",
  "role": "User",
  "createdAt": "2025-04-22T09:00:52.015807"
}
\end{verbatim}
\subsubsection{Update User}
\label{sec:org606cd06}
\begin{itemize}
\item Role: Current User
\item url: /api/User/\{id\}
\item PUT request (/api/User/5bc50972-53df-456a-8e60-c37222ad103d)
\end{itemize}
\begin{verbatim}
{
  "userName": "jeno",
  "email": "jeno@example.com",
  "location": "Budapest",
  "isPushNotificationsEnabled": true,
  "userSelectedLanguage": "magyar"
}
\end{verbatim}
\begin{itemize}
\item Response:
\begin{itemize}
\item StatusCode: 200
\end{itemize}
\end{itemize}
\begin{verbatim}
{
  "userName": "jeno",
  "email": "jeno@example.com",
  "location": "Budapest",
  "profilePictureUrl": "https://tiszolczijacint.blob.core.windows.net/img/20055bcd-ed28-4e8c-acbe-9be90e14f4d3.jpg"
}
\end{verbatim}
\subsubsection{Change User Profile Picture}
\label{sec:orgd948ea8}
\begin{itemize}
\item Role: Current User
\item url: /api/User/\{id\}/upload-profile-picture
\item POST request (/api/User/5bc50972-53df-456a-8e60-c37222ad103d/upload-profile-picture)
\end{itemize}
\begin{verbatim}
{
  "headers": {
    "accept": "*/*",
    "Authorization": "Bearer [token]",
    "Content-Type": "multipart/form-data"
  },
  "body": {
    "file": {
      "value": "@pfp.jpg",
      "options": {
        "filename": "pfp.jpg",
        "contentType": "image/jpeg"
      }
    }
  }
}
\end{verbatim}
\begin{itemize}
\item Response:
\begin{itemize}
\item StatusCode: 200
\end{itemize}
\end{itemize}
\begin{verbatim}
{
  "userName": "jeno",
  "email": "jeno@example.com",
  "location": "Budapest",
  "profilePictureUrl": "https://tiszolczijacint.blob.core.windows.net/img/bb405441-c3af-4c21-9757-7ed00a7b40f1.jpg"
}
\end{verbatim}
\subsubsection{Delete User}
\label{sec:org59017c7}
\begin{itemize}
\item Role: Current User
\item url: /api/User/\{id\}
\item DELETE request (\emph{api/User/5bc50972-53df-456a-8e60-c37222ad103d}
\item Response:
\begin{itemize}
\item StatusCode: 200
\end{itemize}
\end{itemize}
\begin{verbatim}
{
  message: User deleted successfully.
}
\end{verbatim}
\subsection{Service}
\label{sec:orga58e9dd}
\subsubsection{Get Services}
\label{sec:org1448e36}
\begin{itemize}
\item url: /api/Service
\item GET request
\item Response:
\begin{itemize}
\item StatusCode: 200
\end{itemize}
\end{itemize}
\begin{verbatim}
[
  {
    "serviceId": 1,
    "userId": "5b02dd18-efa6-49e4-bb14-72956dfd92fb",
    "provider": {
      "userName": "NagyFerenc",
      "email": "nagyferenc@example.com",
      "location": "Győr Budai Út 23",
      "profilePictureUrl": "https://tiszolczijacint.blob.core.windows.net/img/ab68b3c7-6e09-4a8b-a9c0-f587cc95d214.jpg"
    },
    "category": {
      "categoryId": 1,
      "name": "Hajvágás",
      "iconUrl": "https://tiszolczijacint.blob.core.windows.net/img/7addb194-b06e-492f-8be0-47a1f03de298.png"
    },
    "categoryId": 1,
    "serviceName": "Férfi hajvágás",
    "price": 5000,
    "description": "Donec pretium posuere tellus.  Nullam rutrum.  Praesent augue.  Aliquam erat volutpat.  Nunc eleifend leo vitae magna.  In id erat non orci commodo lobortis.  Proin neque massa, cursus ut, gravida ut, lobortis eget, lacus.  Sed diam.  Praesent fermentum tempor tellus.  Nullam tempus.  Mauris ac felis vel velit tristique imperdiet.  Donec at pede.  Etiam vel neque nec dui dignissim bibendum.  Vivamus id enim.  Phasellus neque orci, porta a, aliquet quis, semper a, massa.  Phasellus purus.  Pellentesque tristique imperdiet tortor.  Nam euismod tellus id erat.",
    "address": "Győr Budai Út 83",
    "duration": 20,
    "openingHours": 0,
    "imageUrls": [
      "https://tiszolczijacint.blob.core.windows.net/img/cda0f295-d78b-40f0-a5cc-d2b224b5cc46.jpg",
      "https://tiszolczijacint.blob.core.windows.net/img/3edda464-8ae6-481d-ba57-7b271cce2ec4.jpg"
    ]
  },
  {
    "serviceId": 2,
    "userId": "35a3407f-5d3f-4715-a6b6-51f154c40511",
    "provider": {
      "userName": "KisJeno",
      "email": "kisjeno@example.com",
      "location": "Budapest Váci út 93",
      "profilePictureUrl": "https://tiszolczijacint.blob.core.windows.net/img/20055bcd-ed28-4e8c-acbe-9be90e14f4d3.jpg"
    },
    "category": {
      "categoryId": 2,
      "name": "Szerelés",
      "iconUrl": "https://tiszolczijacint.blob.core.windows.net/img/ef1431cf-2236-4214-b261-46b83a4fcc9a.png"
    },
    "categoryId": 2,
    "serviceName": "Mobiltelefon szerelés",
    "price": 20000,
    "description": "Donec pretium posuere tellus.  Nullam rutrum.  Praesent augue.  Aliquam erat volutpat.  Nunc eleifend leo vitae magna.  In id erat non orci commodo lobortis.  Proin neque massa, cursus ut, gravida ut, lobortis eget, lacus.  Sed diam.  Praesent fermentum tempor tellus.  Nullam tempus.  Mauris ac felis vel velit tristique imperdiet.  Donec at pede.  Etiam vel neque nec dui dignissim bibendum.  Vivamus id enim.  Phasellus neque orci, porta a, aliquet quis, semper a, massa.  Phasellus purus.  Pellentesque tristique imperdiet tortor.  Nam euismod tellus id erat.",
    "address": "Budapest Váci út 93",
    "duration": 100,
    "openingHours": 0,
    "imageUrls": [
      "https://tiszolczijacint.blob.core.windows.net/img/b351255a-1ad5-48dd-b6ef-8c15a1644b81.jpg",
      "https://tiszolczijacint.blob.core.windows.net/img/f1771efb-a476-4e48-a52f-f8c5c211669a.jpg"
    ]
  },
  ...
]
\end{verbatim}
\subsubsection{Get Service by ID}
\label{sec:org522bd57}
\begin{itemize}
\item url: /api/Service/\{id\}
\item GET request (/api/Service/1)
\item Response:
\begin{itemize}
\item StatusCode: 200
\end{itemize}
\end{itemize}
\begin{verbatim}
{
  "serviceId": 1,
  "userId": "5b02dd18-efa6-49e4-bb14-72956dfd92fb",
  "provider": {
    "userName": "NagyFerenc",
    "email": "nagyferenc@example.com",
    "location": "Győr Budai Út 23",
    "profilePictureUrl": "https://tiszolczijacint.blob.core.windows.net/img/ab68b3c7-6e09-4a8b-a9c0-f587cc95d214.jpg"
  },
  "category": {
    "categoryId": 1,
    "name": "Hajvágás",
    "iconUrl": "https://tiszolczijacint.blob.core.windows.net/img/7addb194-b06e-492f-8be0-47a1f03de298.png"
  },
  "categoryId": 1,
  "serviceName": "Férfi hajvágás",
  "price": 5000,
  "description": "Donec pretium posuere tellus.  Nullam rutrum.  Praesent augue.  Aliquam erat volutpat.  Nunc eleifend leo vitae magna.  In id erat non orci commodo lobortis.  Proin neque massa, cursus ut, gravida ut, lobortis eget, lacus.  Sed diam.  Praesent fermentum tempor tellus.  Nullam tempus.  Mauris ac felis vel velit tristique imperdiet.  Donec at pede.  Etiam vel neque nec dui dignissim bibendum.  Vivamus id enim.  Phasellus neque orci, porta a, aliquet quis, semper a, massa.  Phasellus purus.  Pellentesque tristique imperdiet tortor.  Nam euismod tellus id erat.",
  "address": "Győr Budai Út 83",
  "duration": 20,
  "openingHours": 0,
  "imageUrls": [
    "https://tiszolczijacint.blob.core.windows.net/img/cda0f295-d78b-40f0-a5cc-d2b224b5cc46.jpg",
    "https://tiszolczijacint.blob.core.windows.net/img/3edda464-8ae6-481d-ba57-7b271cce2ec4.jpg"
  ]
}
\end{verbatim}
\subsubsection{Post new Service}
\label{sec:orga03e094}
\begin{itemize}
\item Role: Provider
\item url: /api/Service
\item POST request:
\end{itemize}
\begin{verbatim}
{
  "userId": "677e7b94-d191-4db7-8af8-ab22b32ff2ed",
  "categoryId": 2,
  "serviceName": "Autó szerelés",
  "price": 30000,
  "description": "Praesent a eros sit amet eros hendrerit semper in quis purus. Aenean sagittis felis vitae iaculis fermentum. Etiam tempus imperdiet mollis. Vivamus pretium mi non nibh iaculis venenatis. Donec pellentesque, felis a pharetra ultricies, ante enim consectetur lectus, nec vestibulum nisi augue sit amet dolor. Aenean vitae tempor mauris. Cras volutpat hendrerit neque id ultrices. ",
  "address": "Gyor Szent Istvan ut 95",
  "duration": 120,
  "opensAt": "08:00:00",
  "closesAt": "17:00:00"
}
#+end_src json
- Response:
  - StatusCode: 201
#+begin_src json :eval no-export :wrap breaklines
{
  "serviceId": 3,
  "userId": "677e7b94-d191-4db7-8af8-ab22b32ff2ed",
  "provider": null,
  "category": null,
  "categoryId": 2,
  "serviceName": "Autó szerelés",
  "price": 30000,
  "description": "Praesent a eros sit amet eros hendrerit semper in quis purus. Aenean sagittis felis vitae iaculis fermentum. Etiam tempus imperdiet mollis. Vivamus pretium mi non nibh iaculis venenatis. Donec pellentesque, felis a pharetra ultricies, ante enim consectetur lectus, nec vestibulum nisi augue sit amet dolor. Aenean vitae tempor mauris. Cras volutpat hendrerit neque id ultrices. ",
  "address": "Gyor Szent Istvan ut 95",
  "duration": 120,
  "opensAt": "08:00:00",
  "closesAt": "17:00:00",
  "imageUrls": null
}
\end{verbatim}
\subsubsection{Update Service}
\label{sec:org3c76823}
\begin{itemize}
\item Role: Provider of service
\item url: /api/Service/\{id\}
\item PUT request (/api/Service/3)
\end{itemize}
\begin{verbatim}
{
  "serviceId": 3,
  "userId": "677e7b94-d191-4db7-8af8-ab22b32ff2ed",
  "serviceName": "Autó szerelés",
  "price": 40000,
  "description": "Praesent a eros sit amet eros hendrerit semper in quis purus. Aenean sagittis felis vitae iaculis fermentum. Etiam tempus imperdiet mollis. Vivamus pretium mi non nibh iaculis venenatis. Donec pellentesque, felis a pharetra ultricies, ante enim consectetur lectus, nec vestibulum nisi augue sit amet dolor. Aenean vitae tempor mauris. Cras volutpat hendrerit neque id ultrices. ",
  "address": "Gyor Szent Istvan ut 95",
  "duration": 120,
  "opensAt": "08:00:00",
  "closesAt": "17:30:00"
}
\end{verbatim}
\begin{itemize}
\item Response:
\begin{itemize}
\item StatusCode: 200
\end{itemize}
\end{itemize}
\begin{verbatim}
{
  "serviceId": 3,
  "userId": "677e7b94-d191-4db7-8af8-ab22b32ff2ed",
  "provider": null,
  "category": null,
  "categoryId": 2,
  "serviceName": "Autó szerelés",
  "price": 40000,
  "description": "Praesent a eros sit amet eros hendrerit semper in quis purus. Aenean sagittis felis vitae iaculis fermentum. Etiam tempus imperdiet mollis. Vivamus pretium mi non nibh iaculis venenatis. Donec pellentesque, felis a pharetra ultricies, ante enim consectetur lectus, nec vestibulum nisi augue sit amet dolor. Aenean vitae tempor mauris. Cras volutpat hendrerit neque id ultrices. ",
  "address": "Gyor Szent Istvan ut 95",
  "duration": 120,
  "opensAt": "08:00:00",
  "closesAt": "17:30:00",
  "imageUrls": null
}
\end{verbatim}
\subsubsection{Add Images to Service}
\label{sec:org15c0562}
\begin{itemize}
\item Role: Provider of service
\item url: /api/Service/\{id\}/upload-service-picture
\item POST request (/api/Service/3/upload-service-picture)
\end{itemize}
\begin{verbatim}
{
  "headers": {
    "accept": "*/*",
    "Authorization": "Bearer [token]",
    "Content-Type": "multipart/form-data"
  },
  "body": {
    "files": [
      {
        "value": "@car1.jpg",
        "options": {
          "filename": "car1.jpg",
          "contentType": "image/jpeg"
        }
      },
      {
        "value": "@car2.jpg",
        "options": {
          "filename": "car2.jpg",
          "contentType": "image/jpeg"
        }
      },
      {
        "value": "@car3.jpg",
        "options": {
          "filename": "car3.jpg",
          "contentType": "image/jpeg"
        }
      }
    ]
  }
}

\end{verbatim}
\begin{itemize}
\item Response:
\begin{itemize}
\item StatusCode: 200
\end{itemize}
\end{itemize}
\begin{verbatim}
{
  "serviceId": 3,
  "userId": "677e7b94-d191-4db7-8af8-ab22b32ff2ed",
  "provider": null,
  "category": null,
  "categoryId": 2,
  "serviceName": "Autó szerelés",
  "price": 40000,
  "description": "Praesent a eros sit amet eros hendrerit semper in quis purus. Aenean sagittis felis vitae iaculis fermentum. Etiam tempus imperdiet mollis. Vivamus pretium mi non nibh iaculis venenatis. Donec pellentesque, felis a pharetra ultricies, ante enim consectetur lectus, nec vestibulum nisi augue sit amet dolor. Aenean vitae tempor mauris. Cras volutpat hendrerit neque id ultrices. ",
  "address": "Gyor Szent Istvan ut 95",
  "duration": 120,
  "opensAt": "08:00:00",
  "closesAt": "17:00:00",
  "imageUrls": [
    "https://tiszolczijacint.blob.core.windows.net/img/2136ae16-7f2d-47c0-b30a-737c3c255500.jpg",
    "https://tiszolczijacint.blob.core.windows.net/img/6e143f27-6257-4df2-8471-887d9a92ec9e.jpg",
    "https://tiszolczijacint.blob.core.windows.net/img/1f148c9b-4341-494b-8219-56046bec830d.jpg"
  ]
}
\end{verbatim}
\subsubsection{Delete Service}
\label{sec:org2eb94b8}
\begin{itemize}
\item Role: Provider of service
\item url: /api/Service/\{id\}
\item DELETE request (\emph{api/Service/3}
\item Response:
\begin{itemize}
\item StatusCode: 200
\end{itemize}
\end{itemize}
\end{document}
